<!DOCTYPE html>
<html>
<head>
    <title>Create Account</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/adminstyle.css') }}">
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
</head>
<body>
    <input type="checkbox" id="checkbox">
    <header class="header">
        <h2 class="u-name">Admin<b> Panel</b>
            <label for="checkbox">
                <i id="navbtn" class="fa fa-bars" aria-hidden="true"></i>
            </label>
        </h2>
        <span class="notification" id="notificationBtn">
            <i class="fa fa-bell" aria-hidden="true"></i>
            <span id="notificationNum"></span>
        </span>
    </header>
    <div class="notification-bar" id="notificationBar">
        <ul id="notifications"></ul>
    </div>

    <div class="body">
        {% include 'navbar.html' %}

        <section class="section-1">
            <div class="form-container">
                <h2>Create Account</h2>
                <form id="createAccountForm">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" placeholder="Enter your name" required>
                    
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" placeholder="Enter your email" required>
                    
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" placeholder="Enter a strong password" required>
                    
                    <label for="role">Role</label>
                    <select id="role" name="role">
                        <option value="radiologist" selected>Radiologist</option>
                        <option value="admin">Admin</option>
                    </select>
                    
                    <button type="submit">Create Account</button>
                </form>
            </div>
        </section>
    </div>

    <script>
        document.getElementById("createAccountForm").addEventListener("submit", function(event) {
            let valid = true;

            let name = document.getElementById("name");
            let nameRegex = /^[A-Za-z\s]+$/;
            if (!nameRegex.test(name.value)) {
                name.setCustomValidity("Name must contain only letters.");
                name.reportValidity();
                valid = false;
            } else {
                name.setCustomValidity("");
            }

            let email = document.getElementById("email");
            let emailRegex = /^[A-Za-z][A-Za-z0-9_.]+@[A-Za-z]+\.[A-Za-z]{2,}$/;
            if (!emailRegex.test(email.value)) {
                email.setCustomValidity("Enter a valid email (must start with a letter).");
                email.reportValidity();
                valid = false;
            } else {
                email.setCustomValidity("");
            }

            let password = document.getElementById("password");
            let passwordRegex = /^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
            if (!passwordRegex.test(password.value)) {
                password.setCustomValidity("Password must be at least 8 characters, include 1 uppercase, 1 number, and 1 special character.");
                password.reportValidity();
                valid = false;
            } else {
                password.setCustomValidity("");
            }

            if (!valid) {
                event.preventDefault();
            }
        });
    </script>
</body>
</html>